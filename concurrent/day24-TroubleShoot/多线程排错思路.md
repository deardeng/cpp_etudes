## 简介
到目前为止，前面一系列的文章已经将多线程编程技术介绍完了，很多人问我如何排查多线程程序的问题，本节是最后一节，给大家提供一些在多线程编程过程中排查问题的思路。
## 常见问题
在介绍如何排查前我们先将问题做几个归类：
1. 内存问题，包括内存泄露(未回收内存)，空指针，悬垂指针(野指针)，double free问题等。
2. 资源竞争，多个线程竞争同一块临界区的资源，未保证互斥
3. 死锁(互相引用阻塞卡死)和活锁(乐观锁尝试)
4. 引用已释放的变量，生命周期管理失效导致
5. 线程管控失败，修改或者回收一个已经绑定正在运行线程的变量，或者线程本该回收却被卡死，皆因线程管控失败导致
6. 未保证异步回调次序导致数据混乱

接下来根据上面列出的问题，我们根据实际案例排查出现问题的原因以及规避的方法。

接下来的案例均取自我的源码，源码链接如下：



## 空指针
空指针的问题比较好排查，我们在封装无锁队列的时候照抄《C++并发编程实战》一书引发了崩溃，详见源码链接
